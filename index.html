<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>FlowStat</title>

  <!-- Manifest PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#6fa8dc">

  <!-- iOS PWA -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="icons/icon-192.png">

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div id="app" class="app">

    <!-- Estado Firebase -->
    <div id="firebase-status"
         class="hidden"
         style="background:#eef2ff;padding:10px;margin:10px;border-radius:8px;font-size:14px;">
      Verificando Firebaseâ€¦
    </div>

    <!-- HOME -->
    <section id="view-home" class="view active">
      <h1>FlowStat</h1>
      <button onclick="FS.router.go('partidos')">Partidos</button>
      <button onclick="FS.router.go('equipos')">Equipos</button>
      <button onclick="FS.router.go('jugadoras')">Jugadoras</button>
    </section>

    <!-- PARTIDOS -->
    <section id="view-partidos" class="view hidden">
      <h2>Partidos</h2>
      <button onclick="FS.partidos.create()">âž• Nuevo partido</button>
      <div id="lista-partidos"></div>
      <button onclick="FS.router.go('home')">ðŸ”™ Volver</button>
    </section>

    <!-- RESUMEN PARTIDO / SETS -->
<section id="view-partido-sets" class="view hidden">
  <h2>Partido</h2>

  <div id="ps-info" class="card"></div>

  <div id="ps-sets" class="list"></div>

  <button class="btn-secondary" onclick="FS.router.go('partidos')">ðŸ”™ Volver a partidos</button>
</section>

    
    <!-- EQUIPOS -->
    <section id="view-equipos" class="view hidden">
      <h2>Equipos</h2>
      <button onclick="FS.equipos.create()">âž• Crear equipo</button>
      <div id="lista-equipos"></div>
      <button onclick="FS.router.go('home')">ðŸ”™ Volver</button>
    </section>

    <!-- JUGADORAS -->
    <section id="view-jugadoras" class="view hidden">
      <h2>Jugadoras</h2>
      <button onclick="FS.jugadoras.create()">âž• Crear jugadora</button>
      <div id="lista-jugadoras"></div>
      <button onclick="FS.router.go('home')">ðŸ”™ Volver</button>
    </section>

    <!-- SET (LIVE) -->
    <section id="view-set" class="view hidden">
      <h2 id="titulo-set">Set</h2>

      <div class="top-row">
        <div class="players" id="players-container"></div>
        <button id="btn-change" class="action-btn">Cambiar</button>
        <button id="btn-finish" class="action-btn">Finalizar set</button>
        <div id="undo-container"></div>
      </div>

      <div class="groups" id="groups-container"></div>

      <button onclick="FS.router.go('partidos')">ðŸ”™ Volver</button>
    </section>

    <!-- MODAL -->
    <div id="modal-bg" class="hidden modal-bg">
      <div id="modal-content" class="modal-content"></div>
    </div>

  </div> <!-- FIN #app -->

  <!-- Firebase SDK (compat) -->
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>

  <!-- Firebase init -->
  <script src="firebase-init.js"></script>

  <!-- Core -->
  <script src="state.js"></script>
  <script src="storage.js"></script>

  <!-- Router + UI -->
  <script src="router.js"></script>
  <script src="modal.js"></script>
  <script src="ui_partidos.js"></script>
  <script src="ui_equipos.js"></script>
  <script src="ui_jugadoras.js"></script>
  <script src="ui_partido_sets.js"></script>
  <script src="ui_set.js"></script>
  

  <!-- Bootstrap -->
  <script src="app.js"></script>

</body>
</html>
