<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>FlowStat</title>
    <link rel="stylesheet" href="style.css" />

    <!-- ICONO -->
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    <link rel="icon" sizes="192x192" href="icons/icon-192x192.png">
  </head>

  <body>

    

    <!-- ============================================
         APP ROOT
    ============================================= -->
    <div id="app" class="app">

<!-- ============================================
         FIREBASE STATUS PANEL (diagnÃ³stico)
    ============================================= -->
    <div id="firebase-status"
        style="background:#eef2ff;padding:10px;margin:10px;border-radius:8px;font-size:14px;display:none;">
      Verificando Firebaseâ€¦
    </div>
      
      <!-- PANTALLAS DEL SPA -->

      <!-- HOME -->
      <section id="view-home" class="view active">
        <h1>FlowStat</h1>
        <button onclick="FS.router.go('partidos')">Partidos</button>
        <button onclick="FS.router.go('equipos')">Equipos</button>
        <button onclick="FS.router.go('jugadoras')">Jugadoras</button>
      </section>

      <!-- PARTIDOS -->
      <section id="view-partidos" class="view hidden">
        <h2>Partidos</h2>
        <button onclick="FS.partidos.create()">âž• Nuevo partido</button>
        <div id="lista-partidos"></div>
        <button onclick="FS.router.go('home')">ðŸ”™ Volver</button>
      </section>

      <!-- EQUIPOS -->
      <section id="view-equipos" class="view hidden">
        <h2>Equipos</h2>
        <button onclick="FS.equipos.create()">âž• Crear equipo</button>
        <div id="lista-equipos"></div>
        <button onclick="FS.router.go('home')">ðŸ”™ Volver</button>
      </section>

      <!-- JUGADORAS -->
      <section id="view-jugadoras" class="view hidden">
        <h2>Jugadoras</h2>
        <button onclick="FS.jugadoras.create()">âž• Crear jugadora</button>
        <div id="lista-jugadoras"></div>
        <button onclick="FS.router.go('home')">ðŸ”™ Volver</button>
      </section>

      <!-- SET / REGISTRO -->
      <section id="view-set" class="view hidden">
        <h2 id="titulo-set">Set</h2>

        <div class="top-row">
          <div class="players" id="players-container"></div>

          <button id="btn-change" class="action-btn">Cambiar</button>
          <button id="btn-finish" class="action-btn">Finalizar set</button>
          <div id="undo-container"></div>
        </div>

        <div class="groups" id="groups-container"></div>

        <button onclick="FS.router.go('partidos')">ðŸ”™ Volver</button>
      </section>

    </div>

    <!-- ============================================
         MODAL
    ============================================= -->
    <div id="modal-bg" class="hidden modal-bg">
      <div id="modal-content" class="modal-content"></div>
    </div>

    <!-- ============================================
         SCRIPT LOADING ORDER â€” IMPORTANT
    ============================================= -->
   <!-- AÃ‘ADE ESTO EN index.html, ANTES DE firebase-init.js -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>


    <!-- 1) FIREBASE MUST LOAD FIRST -->
    <script type="module" src="firebase-init.js"></script>

    <!-- 2) CORE STATE / STORAGE -->
    <script src="state.js"></script>
    <script src="storage.js"></script>

    <!-- 3) ROUTER + MODAL -->
    <script src="router.js"></script>
    <script src="modal.js"></script>

    <!-- 4) UI MODULES -->
    <script src="ui_partidos.js"></script>
    <script src="ui_equipos.js"></script>
    <script src="ui_jugadoras.js"></script>
    <script src="ui_set.js"></script>

    <!-- 5) APP BOOTSTRAP -->
    <script src="app.js"></script>

  </body>
</html>
